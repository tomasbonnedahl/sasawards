import datetime
from collections import namedtuple

from awards.models import Flight

Key = namedtuple('Key', 'origin destination out_date')

default_error = Key(origin='CPH', destination='NON', out_date='20191003')


def cph_pvg():
    cph_pvg = '''{"pricingType":"C","outboundFlights":{"F0":{"id":0,"origin":{"code":"CPH","name":"Kastrup"},"destination":{"code":"PVG","name":"Pudong  "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"CN","name":"China"},"originCity":{"code":"CPH","name":"Copenhagen"},"destinationCity":{"code":"SHA","name":"Shanghai"},"connectionDuration":"10:15:00","startTimeInLocal":"2019-10-02T18:40:00.000+02:00","startTimeInGmt":"2019-10-02T16:40:00.000Z","endTimeInLocal":"2019-10-03T10:55:00.000+08:00","endTimeInGmt":"2019-10-03T02:55:00.000Z","stops":0,"segments":[{"id":11,"arrivalTerminal":"2","arrivalDateTimeInLocal":"2019-10-03T10:55:00.000+08:00","arrivalDateTimeInGmt":"2019-10-03T02:55:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T18:40:00.000+02:00","departureDateTimeInGmt":"2019-10-02T16:40:00.000Z","departureAirport":{"code":"CPH","name":"Kastrup"},"arrivalAirport":{"code":"PVG","name":"Pudong  "},"departureCity":{"code":"CPH","name":"Copenhagen"},"arrivalCity":{"code":"SHA","name":"Shanghai"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"CN","name":"China"},"airCraft":{"code":"343","name":"Airbus Industrie A340-300"},"flightNumber":"997","duration":"10:15:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"BUSINESS":{"SAS BUSINESS":{"products":{"O_2":{"productName":"SAS BUSINESS","productCode":"EBSARB","lowestFare":true,"recommendations":[1],"price":{"currency":"NOK","basePrice":0.0,"totalTax":428.0,"totalPrice":428.0,"formattedTotalTax":"428,-","formattedTotalPrice":"428,-","points":120000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":214.0,"totalPrice":214.0,"formattedTotalTax":"214,-","formattedTotalPrice":"214,-","points":60000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"IBP00","bookingClass":"I","avlSeats":10}],"fareKey":"I","flyingToOrOverRussia":true}}}},"PLUS":{"SAS PLUS":{"products":{"O_1":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[0],"price":{"currency":"NOK","basePrice":0.0,"totalTax":428.0,"totalPrice":428.0,"formattedTotalTax":"428,-","formattedTotalPrice":"428,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":214.0,"totalPrice":214.0,"formattedTotalTax":"214,-","formattedTotalPrice":"214,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":10}],"fareKey":"F","flyingToOrOverRussia":true}}}}},"lowestFares":{"BUSINESS":{"product":"SAS BUSINESS","productId":"O_2","avlSeats":10,"points":60000.0},"PLUS":{"product":"SAS PLUS","productId":"O_1","avlSeats":10,"points":48000.0}}}},"productInfo":{"BUSINESS":{"1":"SAS BUSINESS"},"PLUS":{"1":"SAS PLUS"}},"tabsInfo":{"outboundInfo":[{"date":"2019-10-01","price":"214,-","points":48000.0},{"date":"2019-10-02","price":"214,-","points":48000.0},{"date":"2019-10-03","price":"214,-","points":48000.0}]},"currency":{"code":"NOK","name":"Norwegian Krone","symbol":",-","decimalSeperator":".","position":"Suffix","currencyDelimiter":"space"},"links":[{"rel":"GetEBMSPoints","href":"/offers/flightproducts/getAccrualPoints"},{"rel":"FareReview","href":"/offers/flightproducts/getFare"},{"rel":"InitiateCheckout","href":"/checkout/initiate"}],"regionName":"EB Intercont","offerId":"420e12aa-c1cd-485a-a67c-9af7074d445f_2018-11-16","outboundLowestFare":{"product":"SAS PLUS","productId":"O_1","avlSeats":10,"points":48000.0,"cabinName":"PLUS","flightId":"F0"},"isOutboundIntercontinental":true}'''

    prev_seats = Flight.objects.filter(origin='CPH',
                                       destination='PVG',
                                       date=datetime.date(2019, 10, 2)).first().business_seats
    new_seats = prev_seats + 1
    cph_pvg = cph_pvg.replace('"avlSeats":10', '"avlSeats":{}'.format(new_seats))
    return cph_pvg


def arn_pvg():
    arn_pvg = '''{"pricingType":"C","outboundFlights":{"F0":{"id":0,"origin":{"code":"ARN","name":"Kastrup"},"destination":{"code":"PVG","name":"Pudong  "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"CN","name":"China"},"originCity":{"code":"ARN","name":"Copenhagen"},"destinationCity":{"code":"SHA","name":"Shanghai"},"connectionDuration":"10:15:00","startTimeInLocal":"2019-10-02T18:40:00.000+02:00","startTimeInGmt":"2019-10-02T16:40:00.000Z","endTimeInLocal":"2019-10-03T10:55:00.000+08:00","endTimeInGmt":"2019-10-03T02:55:00.000Z","stops":0,"segments":[{"id":11,"arrivalTerminal":"2","arrivalDateTimeInLocal":"2019-10-03T10:55:00.000+08:00","arrivalDateTimeInGmt":"2019-10-03T02:55:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T18:40:00.000+02:00","departureDateTimeInGmt":"2019-10-02T16:40:00.000Z","departureAirport":{"code":"ARN","name":"Kastrup"},"arrivalAirport":{"code":"PVG","name":"Pudong  "},"departureCity":{"code":"ARN","name":"Copenhagen"},"arrivalCity":{"code":"SHA","name":"Shanghai"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"CN","name":"China"},"airCraft":{"code":"343","name":"Airbus Industrie A340-300"},"flightNumber":"997","duration":"10:15:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"BUSINESS":{"SAS BUSINESS":{"products":{"O_2":{"productName":"SAS BUSINESS","productCode":"EBSARB","lowestFare":true,"recommendations":[1],"price":{"currency":"NOK","basePrice":0.0,"totalTax":428.0,"totalPrice":428.0,"formattedTotalTax":"428,-","formattedTotalPrice":"428,-","points":120000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":214.0,"totalPrice":214.0,"formattedTotalTax":"214,-","formattedTotalPrice":"214,-","points":60000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"IBP00","bookingClass":"I","avlSeats":10}],"fareKey":"I","flyingToOrOverRussia":true}}}},"PLUS":{"SAS PLUS":{"products":{"O_1":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[0],"price":{"currency":"NOK","basePrice":0.0,"totalTax":428.0,"totalPrice":428.0,"formattedTotalTax":"428,-","formattedTotalPrice":"428,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":214.0,"totalPrice":214.0,"formattedTotalTax":"214,-","formattedTotalPrice":"214,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":10}],"fareKey":"F","flyingToOrOverRussia":true}}}}},"lowestFares":{"BUSINESS":{"product":"SAS BUSINESS","productId":"O_2","avlSeats":10,"points":60000.0},"PLUS":{"product":"SAS PLUS","productId":"O_1","avlSeats":10,"points":48000.0}}}},"productInfo":{"BUSINESS":{"1":"SAS BUSINESS"},"PLUS":{"1":"SAS PLUS"}},"tabsInfo":{"outboundInfo":[{"date":"2019-10-01","price":"214,-","points":48000.0},{"date":"2019-10-02","price":"214,-","points":48000.0},{"date":"2019-10-03","price":"214,-","points":48000.0}]},"currency":{"code":"NOK","name":"Norwegian Krone","symbol":",-","decimalSeperator":".","position":"Suffix","currencyDelimiter":"space"},"links":[{"rel":"GetEBMSPoints","href":"/offers/flightproducts/getAccrualPoints"},{"rel":"FareReview","href":"/offers/flightproducts/getFare"},{"rel":"InitiateCheckout","href":"/checkout/initiate"}],"regionName":"EB Intercont","offerId":"420e12aa-c1cd-485a-a67c-9af7074d445f_2018-11-16","outboundLowestFare":{"product":"SAS PLUS","productId":"O_1","avlSeats":10,"points":48000.0,"cabinName":"PLUS","flightId":"F0"},"isOutboundIntercontinental":true}'''

    prev_seats = Flight.objects.filter(origin='ARN',
                                       destination='PVG',
                                       date=datetime.date(2019, 10, 2))
    if prev_seats:
        prev_seats = prev_seats.first().business_seats
    else:
        prev_seats = 10

    new_seats = prev_seats + 1
    arn_pvg = arn_pvg.replace('"avlSeats":10', '"avlSeats":{}'.format(new_seats))
    return arn_pvg


def _responses():
    return {
        # CPH-PVG, 2 business seats, plus seats
        Key(origin='CPH', destination='PVG', out_date='20191002'): cph_pvg(),

        # ARN-PVG, x business seats, plus seats
        Key(origin='ARN', destination='PVG', out_date='20191002'): arn_pvg(),

        # CPH-EWR, no business, mulitple plus
        Key(origin='CPH', destination='EWR', out_date='20191002'): '''{"pricingType":"C","outboundFlights":{"F0":{"id":0,"origin":{"code":"CPH","name":"Kastrup"},"destination":{"code":"EWR","name":"Newark Liberty Intl "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"US","name":"United States"},"originCity":{"code":"CPH","name":"Copenhagen"},"destinationCity":{"code":"NYC","name":"New York, NJ"},"connectionDuration":"08:30:00","startTimeInLocal":"2019-10-02T18:35:00.000+02:00","startTimeInGmt":"2019-10-02T16:35:00.000Z","endTimeInLocal":"2019-10-02T21:05:00.000-04:00","endTimeInGmt":"2019-10-03T01:05:00.000Z","stops":0,"segments":[{"id":11,"arrivalTerminal":"B","arrivalDateTimeInLocal":"2019-10-02T21:05:00.000-04:00","arrivalDateTimeInGmt":"2019-10-03T01:05:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T18:35:00.000+02:00","departureDateTimeInGmt":"2019-10-02T16:35:00.000Z","departureAirport":{"code":"CPH","name":"Kastrup"},"arrivalAirport":{"code":"EWR","name":"Newark Liberty Intl "},"departureCity":{"code":"CPH","name":"Copenhagen"},"arrivalCity":{"code":"NYC","name":"New York, NJ"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"US","name":"United States"},"airCraft":{"code":"333","name":"Airbus Industrie A330-300"},"flightNumber":"901","duration":"08:30:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"PLUS":{"SAS PLUS":{"products":{"O_1":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[0],"price":{"currency":"NOK","basePrice":0.0,"totalTax":712.0,"totalPrice":712.0,"formattedTotalTax":"712,-","formattedTotalPrice":"712,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":356.0,"totalPrice":356.0,"formattedTotalTax":"356,-","formattedTotalPrice":"356,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":4}],"fareKey":"F","flyingToOrOverUs":true}}}}},"lowestFares":{"PLUS":{"product":"SAS PLUS","productId":"O_1","avlSeats":4,"points":48000.0}}},"F2":{"id":2,"origin":{"code":"CPH","name":"Kastrup"},"destination":{"code":"EWR","name":"Newark Liberty Intl "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"US","name":"United States"},"originCity":{"code":"CPH","name":"Copenhagen"},"destinationCity":{"code":"NYC","name":"New York, NJ"},"connectionDuration":"11:55:00","startTimeInLocal":"2019-10-02T07:20:00.000+02:00","startTimeInGmt":"2019-10-02T05:20:00.000Z","endTimeInLocal":"2019-10-02T13:15:00.000-04:00","endTimeInGmt":"2019-10-02T17:15:00.000Z","stops":1,"via":[{"code":"OSL","name":"Gardermoen ","haltDuration":"02:40:00"}],"segments":[{"id":11,"arrivalDateTimeInLocal":"2019-10-02T08:30:00.000+02:00","arrivalDateTimeInGmt":"2019-10-02T06:30:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T07:20:00.000+02:00","departureDateTimeInGmt":"2019-10-02T05:20:00.000Z","departureAirport":{"code":"CPH","name":"Kastrup"},"arrivalAirport":{"code":"OSL","name":"Gardermoen "},"departureCity":{"code":"CPH","name":"Copenhagen"},"arrivalCity":{"code":"OSL","name":"Oslo"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"NO","name":"Norway"},"airCraft":{"code":"32A","name":"Airbus Industrie A320 Sharklets"},"flightNumber":"454","duration":"01:10:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0},{"id":12,"arrivalTerminal":"B","arrivalDateTimeInLocal":"2019-10-02T13:15:00.000-04:00","arrivalDateTimeInGmt":"2019-10-02T17:15:00.000Z","departureDateTimeInLocal":"2019-10-02T11:10:00.000+02:00","departureDateTimeInGmt":"2019-10-02T09:10:00.000Z","departureAirport":{"code":"OSL","name":"Gardermoen "},"arrivalAirport":{"code":"EWR","name":"Newark Liberty Intl "},"departureCity":{"code":"OSL","name":"Oslo"},"arrivalCity":{"code":"NYC","name":"New York, NJ"},"departureCountry":{"code":"NO","name":"Norway"},"arrivalCountry":{"code":"US","name":"United States"},"airCraft":{"code":"333","name":"Airbus Industrie A330-300"},"flightNumber":"907","duration":"08:05:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"PLUS":{"SAS PLUS":{"products":{"O_2":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[1],"price":{"currency":"NOK","basePrice":0.0,"totalTax":780.0,"totalPrice":780.0,"formattedTotalTax":"780,-","formattedTotalPrice":"780,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":390.0,"totalPrice":390.0,"formattedTotalTax":"390,-","formattedTotalPrice":"390,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":4},{"segmentId":"12","fareClass":"XFBP00","bookingClass":"F","avlSeats":4}],"fareKey":"FF","flyingToOrOverUs":true}}}}},"lowestFares":{"PLUS":{"product":"SAS PLUS","productId":"O_2","avlSeats":4,"points":48000.0}}},"F1":{"id":1,"origin":{"code":"CPH","name":"Kastrup"},"destination":{"code":"EWR","name":"Newark Liberty Intl "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"US","name":"United States"},"originCity":{"code":"CPH","name":"Copenhagen"},"destinationCity":{"code":"NYC","name":"New York, NJ"},"connectionDuration":"10:05:00","startTimeInLocal":"2019-10-02T09:10:00.000+02:00","startTimeInGmt":"2019-10-02T07:10:00.000Z","endTimeInLocal":"2019-10-02T13:15:00.000-04:00","endTimeInGmt":"2019-10-02T17:15:00.000Z","stops":1,"via":[{"code":"OSL","name":"Gardermoen ","haltDuration":"00:50:00"}],"segments":[{"id":11,"arrivalDateTimeInLocal":"2019-10-02T10:20:00.000+02:00","arrivalDateTimeInGmt":"2019-10-02T08:20:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T09:10:00.000+02:00","departureDateTimeInGmt":"2019-10-02T07:10:00.000Z","departureAirport":{"code":"CPH","name":"Kastrup"},"arrivalAirport":{"code":"OSL","name":"Gardermoen "},"departureCity":{"code":"CPH","name":"Copenhagen"},"arrivalCity":{"code":"OSL","name":"Oslo"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"NO","name":"Norway"},"airCraft":{"code":"73H","name":"Boeing 737-800 (Winglets)"},"flightNumber":"1464","duration":"01:10:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0},{"id":12,"arrivalTerminal":"B","arrivalDateTimeInLocal":"2019-10-02T13:15:00.000-04:00","arrivalDateTimeInGmt":"2019-10-02T17:15:00.000Z","departureDateTimeInLocal":"2019-10-02T11:10:00.000+02:00","departureDateTimeInGmt":"2019-10-02T09:10:00.000Z","departureAirport":{"code":"OSL","name":"Gardermoen "},"arrivalAirport":{"code":"EWR","name":"Newark Liberty Intl "},"departureCity":{"code":"OSL","name":"Oslo"},"arrivalCity":{"code":"NYC","name":"New York, NJ"},"departureCountry":{"code":"NO","name":"Norway"},"arrivalCountry":{"code":"US","name":"United States"},"airCraft":{"code":"333","name":"Airbus Industrie A330-300"},"flightNumber":"907","duration":"08:05:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"PLUS":{"SAS PLUS":{"products":{"O_3":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[1],"price":{"currency":"NOK","basePrice":0.0,"totalTax":780.0,"totalPrice":780.0,"formattedTotalTax":"780,-","formattedTotalPrice":"780,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":390.0,"totalPrice":390.0,"formattedTotalTax":"390,-","formattedTotalPrice":"390,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":4},{"segmentId":"12","fareClass":"XFBP00","bookingClass":"F","avlSeats":4}],"fareKey":"FF","flyingToOrOverUs":true}}}}},"lowestFares":{"PLUS":{"product":"SAS PLUS","productId":"O_3","avlSeats":4,"points":48000.0}}},"F3":{"id":3,"origin":{"code":"CPH","name":"Kastrup"},"destination":{"code":"EWR","name":"Newark Liberty Intl "},"originCountry":{"code":"DK","name":"Denmark"},"destinationCountry":{"code":"US","name":"United States"},"originCity":{"code":"CPH","name":"Copenhagen"},"destinationCity":{"code":"NYC","name":"New York, NJ"},"connectionDuration":"20:20:00","startTimeInLocal":"2019-10-02T22:55:00.000+02:00","startTimeInGmt":"2019-10-02T20:55:00.000Z","endTimeInLocal":"2019-10-03T13:15:00.000-04:00","endTimeInGmt":"2019-10-03T17:15:00.000Z","stops":1,"via":[{"code":"OSL","name":"Gardermoen ","haltDuration":"11:05:00"}],"segments":[{"id":11,"arrivalDateTimeInLocal":"2019-10-03T00:05:00.000+02:00","arrivalDateTimeInGmt":"2019-10-02T22:05:00.000Z","departureTerminal":"3","departureDateTimeInLocal":"2019-10-02T22:55:00.000+02:00","departureDateTimeInGmt":"2019-10-02T20:55:00.000Z","departureAirport":{"code":"CPH","name":"Kastrup"},"arrivalAirport":{"code":"OSL","name":"Gardermoen "},"departureCity":{"code":"CPH","name":"Copenhagen"},"arrivalCity":{"code":"OSL","name":"Oslo"},"departureCountry":{"code":"DK","name":"Denmark"},"arrivalCountry":{"code":"NO","name":"Norway"},"airCraft":{"code":"73H","name":"Boeing 737-800 (Winglets)"},"flightNumber":"1474","duration":"01:10:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0},{"id":12,"arrivalTerminal":"B","arrivalDateTimeInLocal":"2019-10-03T13:15:00.000-04:00","arrivalDateTimeInGmt":"2019-10-03T17:15:00.000Z","departureDateTimeInLocal":"2019-10-03T11:10:00.000+02:00","departureDateTimeInGmt":"2019-10-03T09:10:00.000Z","departureAirport":{"code":"OSL","name":"Gardermoen "},"arrivalAirport":{"code":"EWR","name":"Newark Liberty Intl "},"departureCity":{"code":"OSL","name":"Oslo"},"arrivalCity":{"code":"NYC","name":"New York, NJ"},"departureCountry":{"code":"NO","name":"Norway"},"arrivalCountry":{"code":"US","name":"United States"},"airCraft":{"code":"333","name":"Airbus Industrie A330-300"},"flightNumber":"907","duration":"08:05:00","marketingCarrier":{"code":"SK","name":"Scandinavian Airlines"},"onTimePerformance":0.0,"miles":0,"numberOfStops":0}],"cabins":{"PLUS":{"SAS PLUS":{"products":{"O_4":{"productName":"SAS PLUS","productCode":"EBSARP","lowestFare":true,"recommendations":[1],"price":{"currency":"NOK","basePrice":0.0,"totalTax":780.0,"totalPrice":780.0,"formattedTotalTax":"780,-","formattedTotalPrice":"780,-","points":96000,"credits":0,"pricePerPassengerType":[{"id":1,"type":"ADT","numberCount":2,"price":{"currency":"NOK","basePrice":0.0,"totalTax":390.0,"totalPrice":390.0,"formattedTotalTax":"390,-","formattedTotalPrice":"390,-","points":48000,"credits":0}}]},"fares":[{"segmentId":"11","fareClass":"XFBP00","bookingClass":"F","avlSeats":4},{"segmentId":"12","fareClass":"XFBP00","bookingClass":"F","avlSeats":4}],"fareKey":"FF","flyingToOrOverUs":true}}}}},"lowestFares":{"PLUS":{"product":"SAS PLUS","productId":"O_4","avlSeats":4,"points":48000.0}}}},"productInfo":{"PLUS":{"1":"SAS PLUS"}},"tabsInfo":{"outboundInfo":[{"date":"2019-10-01","price":"356,-","points":48000.0},{"date":"2019-10-02","price":"356,-","points":48000.0},{"date":"2019-10-03","price":"356,-","points":48000.0}]},"currency":{"code":"NOK","name":"Norwegian Krone","symbol":",-","decimalSeperator":".","position":"Suffix","currencyDelimiter":"space"},"links":[{"rel":"GetEBMSPoints","href":"/offers/flightproducts/getAccrualPoints"},{"rel":"FareReview","href":"/offers/flightproducts/getFare"},{"rel":"InitiateCheckout","href":"/checkout/initiate"}],"regionName":"EB Intercont","offerId":"f36ed65b-7fe5-4c7e-b4b4-51a31568c3d7_2018-11-17","outboundLowestFare":{"product":"SAS PLUS","productId":"O_1","avlSeats":4,"points":48000.0,"cabinName":"PLUS","flightId":"F0"},"isOutboundIntercontinental":true}''',

        # Error
        Key(origin='CPH', destination='NON', out_date='20191003'): '''{"errors": [{"errorCode": "225036","errorMessage": "Unfortunately, we can't seem to find anything that matches what you're looking for. Please refine your search."}]}''',
    }

def get_mock_response(origin, destination, out_date):
    key = Key(origin=origin, destination=destination, out_date=out_date)
    return _responses().get(key, _responses()[default_error])
